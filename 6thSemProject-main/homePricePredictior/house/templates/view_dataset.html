{% extends 'index.html' %} {% load static %}
{% block title %}View Dataset - {{ dataset_name }}{% endblock %}
{% block content %}
<main class="main">
  <div class="page-title">
    <div class="container text-center">
      <h1>Dataset: {{ dataset_name }}</h1>
      <p class="mb-0">
        Total Rows: {{ total_rows }} | Total Columns: {{ total_columns }}
      </p>
    </div>
  </div>

  <div class="container mt-4 mb-4">
    <!-- Messages -->
    {% if messages %} {% for message in messages %}
    <div
      class="alert alert-{{ message.tags }} alert-dismissible fade show"
      role="alert"
    >
      {{ message }}
      <button
        type="button"
        class="btn-close"
        data-bs-dismiss="alert"
        aria-label="Close"
      ></button>
    </div>
    {% endfor %} {% endif %}

    <!-- Dataset Card -->
    <div class="card">
      <div
        class="card-header d-flex justify-content-between align-items-center"
      >
        <div>
          <h4 class="mb-0">Dataset Contents</h4>
        </div>
        <div>
          <a href="{% url 'admin_dashboard' %}" class="btn btn-secondary">
            <i class="bi bi-arrow-left"></i> Back to Dashboard
          </a>
        </div>
      </div>

      <div class="card-body">
        <div class="table-responsive">
          <!-- Dataset content will be rendered here -->
          {{ dataset_html|safe }}
        </div>
      </div>
    </div>
  </div>
</main>

<style>
  .table {
    width: 100%;
    margin-bottom: 0;
  }

  .table th {
    position: sticky;
    top: 10;
    background: #fff;
    z-index: 10;
    border-bottom: 2px solid #dee2e6;
  }

  .table-responsive {
    max-height: 70vh;
    overflow-y: auto;
  }

  .table td,
  .table th {
    padding: 0.75rem;
    vertical-align: middle;
  }

  /* Alternating row colors */
  .table-striped tbody tr:nth-of-type(odd) {
    background-color: rgba(0, 0, 0, 0.05);
  }

  /* Hover effect */
  .table-hover tbody tr:hover {
    background-color: rgba(0, 0, 0, 0.075);
  }
</style>
{% endblock %}
